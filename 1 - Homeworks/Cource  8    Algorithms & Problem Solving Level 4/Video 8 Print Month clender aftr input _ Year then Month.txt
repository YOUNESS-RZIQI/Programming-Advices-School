
#include <iostream>
#include <iomanip>
#include <vector>
#include <string>
#include <fstream>
#include "Input_Lib.h"
#include "Check_Lib.h"  // is leap year

using namespace std;

int NumberOfDaysInAMonth(short Year, short Month)
{
	if (Month <= 0 || Month > 12)
		return 0;

	int NumberOfDays[12] = { 31,28,31,30,31,30,31,31,30,31,30,31 };

	return Month == 2 ? (Check_Lib::is_leap_Year(Year) ? 29 : 28) : (NumberOfDays[Month - 1]);

}

short Operation(const short& Year, const short& Month, const short& Day)
{

	int a, y, m, day_order;

	a = (14 - Month) / 12;
	y = Year - a;
	m = Month + (12 * a) - 2;

	day_order = (Day + y + (y / 4) - (y / 100) + (y / 400) + ((31 * m) / 12)) % 7;
	return day_order;
}


void Calendar_body(const short& Year, const short& Month)
{
	short i ;
	short Day_order = Operation(Year, Month, 1);
	short Days_Numb_of_Month = NumberOfDaysInAMonth(Year, Month);

	for (i = 0; i < Day_order; i++)
		printf("     ");
	for (short j = 1; j <= Days_Numb_of_Month; j++)
	{

		printf("%5d", j);

		if (++i == 7)
		{
			i = 0;
			printf("\n");
		}

	}
	
	
}

void Calendar_Fithg()
{
	cout << "\n  ---------------------------------\n";
}

void Calendar_Header(const short& Month)
{
	string Months_of_Year[12] { "Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec" };

	
	printf("  _______________%s_______________\n\n", Months_of_Year[Month - 1].c_str() );
	cout << "  Sun  Mon  Tue  Wed  Thu  Fri  Sat\n";

}

void Calendar(const short& Year, const short& Month)
{
	Calendar_Header(Month);
	Calendar_body(Year, Month);
	Calendar_Fithg();
}


int main()
{
	
	
	system("cls");

	short Year = Input_Lib::Read_Positive_Number("Year  : ");
	short Month = Input_Lib::Read_Positive_Number("Month : ");

	Calendar(Year, Month);
	
	system("pause>0");
	return 0;
}


// 